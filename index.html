<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini AI - مساعد الذكاء الاصطناعي</title>
    <style>
        :root {
            --primary-color: #4e54c8;
            --secondary-color: #8f94fb;
            --accent-color: #ff6b6b;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --success-color: #28a745;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(to left, var(--secondary-color), var(--primary-color));
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            margin: 20px 0;
        }
        
        header {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .chat-container {
            padding: 20px;
            height: 400px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 80%;
            padding: 12px 18px;
            border-radius: 18px;
            line-height: 1.5;
            position: relative;
        }
        
        .user-message {
            background-color: var(--primary-color);
            color: white;
            margin-right: auto;
            border-bottom-right-radius: 5px;
        }
        
        .ai-message {
            background-color: #e9ecef;
            margin-left: auto;
            border-bottom-left-radius: 5px;
        }
        
        .input-container {
            display: flex;
            padding: 15px;
            border-top: 1px solid #dee2e6;
            background-color: white;
        }
        
        #user-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ced4da;
            border-radius: 25px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }
        
        #user-input:focus {
            border-color: var(--primary-color);
        }
        
        #send-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            margin-right: 10px;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #send-btn:hover {
            background: var(--secondary-color);
        }
        
        .output-container {
            padding: 20px;
            border-top: 1px solid #dee2e6;
            background-color: #f8f9fa;
        }
        
        #code-output {
            background-color: #2d2d2d;
            color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        
        #execute-btn {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            margin-top: 15px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: bold;
        }
        
        #execute-btn:hover {
            background: #218838;
        }
        
        .result-container {
            padding: 20px;
            border-top: 1px solid #dee2e6;
            display: none;
        }
        
        #execution-result {
            background-color: white;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #dee2e6;
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        footer {
            text-align: center;
            padding: 15px;
            color: white;
            font-size: 0.9rem;
            margin-top: auto;
        }
        
        @media (max-width: 768px) {
            .container {
                width: 95%;
            }
            
            .message {
                max-width: 90%;
            }
            
            h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Mini AI - مساعد الذكاء الاصطناعي</h1>
            <p class="subtitle">اسألني أي شيء وسأساعدك باللغة العربية</p>
        </header>
        
        <div class="chat-container" id="chat-container">
            <div class="message ai-message">
                مرحباً! أنا مساعدك الافتراضي Mini AI. كيف يمكنني مساعدتك اليوم؟
            </div>
        </div>
        
        <div class="input-container">
            <input type="text" id="user-input" placeholder="اكتب رسالتك هنا...">
            <button id="send-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </div>
        
        <div class="output-container">
            <h3>الإخراج:</h3>
            <pre id="code-output">سيظهر الكود هنا عند طلبه</pre>
            <button id="execute-btn">تنفيذ الكود</button>
        </div>
        
        <div class="result-container" id="result-container">
            <h3>نتيجة التنفيذ:</h3>
            <div id="execution-result"></div>
        </div>
    </div>
    
    <footer>
        <p>Mini AI - مساعد الذكاء الاصطناعي المتكامل © 2023</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatContainer = document.getElementById('chat-container');
            const userInput = document.getElementById('user-input');
            const sendBtn = document.getElementById('send-btn');
            const codeOutput = document.getElementById('code-output');
            const executeBtn = document.getElementById('execute-btn');
            const resultContainer = document.getElementById('result-container');
            const executionResult = document.getElementById('execution-result');
            
            // إضافة رسالة إلى الدردشة
            function addMessage(message, isUser) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.classList.add(isUser ? 'user-message' : 'ai-message');
                messageDiv.textContent = message;
                chatContainer.appendChild(messageDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // معالجة إدخال المستخدم
            function processUserInput() {
                const input = userInput.value.trim();
                if (input === '') return;
                
                addMessage(input, true);
                userInput.value = '';
                
                // محاكاة استجابة الذكاء الاصطناعي
                setTimeout(() => {
                    let response = generateAIResponse(input);
                    addMessage(response.text, false);
                    
                    if (response.code) {
                        codeOutput.textContent = response.code;
                        resultContainer.style.display = 'block';
                    }
                }, 1000);
            }
            
            // توليد رد الذكاء الاصطناعي
            function generateAIResponse(input) {
                const lowerInput = input.toLowerCase();
                
                if (lowerInput.includes('برمج') || lowerInput.includes('كود') || lowerInput.includes('سكربت')) {
                    if (lowerInput.includes('مصفوفة') || lowerInput.includes('array')) {
                        return {
                            text: "ها هو الكود الذي طلبته لإنشاء مصفوفة وعرض محتوياتها:",
                            code: "// إنشاء مصفوفة وعرض محتوياتها\nlet fruits = ['تفاح', 'موز', 'برتقال'];\n\n// عرض المحتويات\nfor (let i = 0; i < fruits.length; i++) {\n  console.log(fruits[i]);\n}\n\n// استخدام forEach\nfruits.forEach(function(fruit) {\n  console.log(fruit);\n});"
                        };
                    } else if (lowerInput.includes('دالة') || lowerInput.includes('function')) {
                        return {
                            text: "ها هو الكود الذي طلبته لإنشاء دالة JavaScript:",
                            code: "// دالة للتحقق من عدد زوجي\nfunction isEven(number) {\n  return number % 2 === 0;\n}\n\n// دالة لحساب مجموع مصفوفة من الأرقام\nfunction sumArray(numbers) {\n  let sum = 0;\n  for (let num of numbers) {\n    sum += num;\n  }\n  return sum;\n}\n\n// مثال على استخدام الدوال\nconsole.log(isEven(4)); // true\nconsole.log(sumArray([1, 2, 3, 4, 5])); // 15"
                        };
                    } else {
                        return {
                            text: "ها هو مثال على كود JavaScript بسيط:",
                            code: "// برنامج ترحيب بسيط\nfunction greetUser(name) {\n  return `مرحباً ${name}! كيف حالك اليوم؟`;\n}\n\n// مثال على الاستخدام\nlet userName = 'أحمد';\nlet greeting = greetUser(userName);\nconsole.log(greeting);\n\n// دالة لجمع رقمين\nfunction addNumbers(a, b) {\n  return a + b;\n}\n\n// مثال على الاستخدام\nlet result = addNumbers(5, 3);\nconsole.log(`نتيجة الجمع: ${result}`);"
                        };
                    }
                } else if (lowerInput.includes('html') || lowerInput.includes('صفحة')) {
                    return {
                        text: "ها هو مثال على هيكل HTML أساسي:",
                        code: "<!DOCTYPE html>\n<html lang='ar' dir='rtl'>\n<head>\n    <meta charset='UTF-8'>\n    <meta name='viewport' content='width=device-width, initial-scale=1.0'>\n    <title>صفحتي</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            background-color: #f0f0f0;\n            text-align: center;\n            padding: 50px;\n        }\n        \n        h1 {\n            color: #4e54c8;\n        }\n    </style>\n</head>\n<body>\n    <h1>مرحباً بالعالم!</h1>\n    <p>هذه صفحتي الأولى</p>\n    \n    <script>\n        // كود JavaScript هنا\n        document.write('<p>تم تحميل الصفحة بنجاح</p>');\n    </script>\n</body>\n</html>"
                    };
                } else if (lowerInput.includes('css') || lowerInput.includes('تنسيق')) {
                    return {
                        text: "ها هو مثال على بعض أنماط CSS مفيدة:",
                        code: "/* تنسيق عام للصفحة */\nbody {\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    line-height: 1.6;\n    margin: 0;\n    padding: 0;\n    background: linear-gradient(to left, #8f94fb, #4e54c8);\n    color: #333;\n}\n\n/* تنسيق العنوان الرئيسي */\n.main-header {\n    text-align: center;\n    padding: 20px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border-bottom: 2px solid #4e54c8;\n}\n\n/* تنسيق البطاقات */\n.card {\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n    padding: 20px;\n    margin: 15px 0;\n    transition: transform 0.3s;\n}\n\n.card:hover {\n    transform: translateY(-5px);\n}\n\n/* تنسيق الأزرار */\n.btn {\n    background: #4e54c8;\n    color: white;\n    border: none;\n    padding: 12px 20px;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: 1rem;\n    transition: background 0.3s;\n}\n\n.btn:hover {\n    background: #3a3fb8;\n}"
                    };
                } else {
                    const responses = [
                        "أهلاً وسهلاً! كيف يمكنني مساعدتك اليوم؟",
                        "هل تحتاج إلى مساعدة في برمجة شيء معين؟",
                        "يمكنني مساعدتك في كتابة الأكواد البرمجية، فقط أخبرني بما تحتاج",
                        "هل تريد مني إنشاء سكربت أو كود معين؟",
                        "أنا هنا لمساعدتك في أي استفسار برمجي أو تقني"
                    ];
                    return {
                        text: responses[Math.floor(Math.random() * responses.length)],
                        code: null
                    };
                }
            }
            
            // تنفيذ الكود المعروض
            function executeCode() {
                try {
                    const code = codeOutput.textContent;
                    if (code.trim() === "") {
                        executionResult.innerHTML = "<p>لا يوجد كود للتنفيذ</p>";
                        return;
                    }
                    
                    // حفظ console.log الأصلي
                    const originalConsoleLog = console.log;
                    let logs = [];
                    
                    // تعديل console.log لالتقاط النتائج
                    console.log = function() {
                        logs.push(Array.from(arguments).join(' '));
                        originalConsoleLog.apply(console, arguments);
                    };
                    
                    // تنفيذ الكود
                    eval(code);
                    
                    // استعادة console.log الأصلي
                    console.log = originalConsoleLog;
                    
                    // عرض النتائج
                    if (logs.length > 0) {
                        executionResult.innerHTML = logs.join('<br>');
                    } else {
                        executionResult.innerHTML = "<p>تم تنفيذ الكود بنجاح، ولكن لا توجد نتائج معروضة</p>";
                    }
                } catch (error) {
                    executionResult.innerHTML = `<p style="color: red;">خطأ في التنفيذ: ${error.message}</p>`;
                }
            }
            
            // إضافة event listeners
            sendBtn.addEventListener('click', processUserInput);
            
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    processUserInput();
                }
            });
            
            executeBtn.addEventListener('click', executeCode);
            
            // ترحيب أولي
            setTimeout(() => {
                addMessage("يمكنك أن تطلب مني إنشاء أكواد برمجية، مساعدة في حل مشكلة تقنية، أو أي استفسار آخر. فقط اكتب رسالتك وسأساعدك!", false);
            }, 1500);
        });
    </script>
</body>
</html>